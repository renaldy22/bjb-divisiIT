{% extends 'base.html' %}


{% block content %}

<div class="d-flex flex-column" style="min-height: 92vh; width: 100%;">

    <!--Fitur Tambah Pengajuan-->
  <div class="row" style="margin-top: 10%;">
    <div class="col-md-1"></div>
    <div class="col-md-4">
      <h4 style="color: #204d95; font-weight: bold; margin-bottom: 3vh; margin-top: 5vh; ">Pengajuan Barang Seluruh Divisi</h4>
    </div>
    <div class="col-md-4"></div>
    <div class="col-md-1"></div>

  </div>


    <!--Tables-->
  <div class="row custom-table">

    <!--div kosong bagian kiri table-->
    <div class="col-md-1"></div>
    <!--akhir div kosong-->

    <div class="col-md-10 fa4-align-center table-responsive-sm">
    <table class="table table-striped table-white table-bordered" >
      <thead class="" style="background-color: #204d95; color: whitesmoke; ">
        <tr>
          <!-- <th scope="col">NIK</th> -->
          <th scope="col">No</th>
          <th scope="col" style="width: 15%;">NIK</th>
          <th scope="col" style="width: 15%;">Group</th>
          <th scope="col" style="width: 16%;">Nama Barang</th>
          <th scope="col">Spesifikasi</th>
          <th scope="col">Jumlah</th>
          <th scope="col" style="width: 30%;">Landasan Kebutuhan Barang</th>
          <th scope="col">Gambar</th>
          <th scope="col">Status</th>
          <th scope="col">Opsi</th>
        </tr>
      </thead>
      <tbody>
        {% for tindaklanjut  in permintaan2 %}
        <tr>
          <!-- <th scope="row">13895723</th> -->
          <td scope="row">{{ tindaklanjut.id }}</td>
          <td scope="row">{{ tindaklanjut.nik }}</td>
          <td>{{ tindaklanjut.group_id }}</td>
          <td>{{ tindaklanjut.nama_barang }}</td>
          <td>{{ tindaklanjut.spesifikasi }}</td>
          <td>{{ tindaklanjut.jumlah }}</td>
          <td>{{ tindaklanjut.landasan_kebutuhan }}</td>
          <td>{% if tindaklanjut.gambar %}
            <img src="{{ tindaklanjut.gambar.url }}" width=90px>
            {% endif %}</td>
            {% if tindaklanjut.status == 0 %}
            <td>None</td>
            {% elif tindaklanjut.status == 1 %}
            <td>Approve 1</td>
            {% elif tindaklanjut.status == 2 %}
            <td>Dalam Proses</td>
            {% elif tindaklanjut.status == 3 %}
            <td>Approve 2</td>
            {% else %}
            <td>Disapproved</td>
            {% endif %}

          <td>
            
              {% if tindaklanjut.status == 1 %}
              <a class="btn btn-danger" href="{% url 'form_tindaklanjut' tindaklanjut.id %}" role="button" style="color: light ;">Tindak Lanjuti</a>

              {% elif tindaklanjut.status == 5 %}
              <button class="btn btn-danger" disabled="disabled" role="button" style="color: white ;">Rejected</button>
              {% else %}
              <button class="btn btn-warning" disabled="disabled" role="button" style="color: white ;">Sudah Ditindaklanjut</button>
              {% endif %}
        
          </td>

        </tr>
        {% endfor %}          
      </tbody>
    </table>
  </div>

  <!--div kosong bagian kanan table-->
  <div class="col-md-1"></div>
  <!--akhir div kosong-->

</div>
<!--Akhir Table-->
</div>   

{% endblock %}